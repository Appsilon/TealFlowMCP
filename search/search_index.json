{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"TealFlowMCP","text":"<p>An MCP (Model Context Protocol) server that enables LLMs to discover, understand, and generate Teal R Shiny applications for clinical trial data analysis.</p> <p>Currently supports two Teal module packages: - teal.modules.general - General-purpose analysis modules - teal.modules.clinical - Clinical trial-specific modules</p>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Quickstart Guide - Get started with VSCode and GitHub Copilot</li> <li>Tool Reference - Complete reference for all 14 MCP tools</li> <li>Configuration Guide - Setup, usage examples, and FAQs</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>New to TealFlowMCP? Check out the Quickstart Guide for step-by-step instructions to get up and running with VSCode and GitHub Copilot.</p>"},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10+</li> <li>uv (Python project manager) installed and available in your PATH</li> <li>R (required for running generated Teal applications)</li> </ul>"},{"location":"#mcp-compatibility","title":"MCP Compatibility","text":"<p>This server implements the Model Context Protocol (MCP) standard and works with any MCP-compatible LLM client, including:</p> <ul> <li>Claude Code</li> <li>GitHub Copilot</li> <li>Cursor</li> <li>Other MCP-compatible tools that support the MCP stdio protocol</li> </ul> <p>The server is LLM-agnostic\u2014it provides tools that any LLM can use to build Teal applications.</p>"},{"location":"#adding-to-your-editoride","title":"Adding to Your Editor/IDE","text":"<p>Add this configuration to your editor's MCP settings file:</p> <pre><code>{\n  \"tealflow-mcp\": {\n    \"command\": \"uv\",\n    \"args\": [\"--directory\", \"/absolute/path/to/TealFlowMCP\", \"run\", \"tealflow_mcp.py\"]\n  }\n}\n</code></pre> <p>Important: Replace <code>/absolute/path/to/TealFlowMCP</code> with the actual absolute path to your cloned repository.</p> <p>Consult your editor's documentation for the exact location of the MCP configuration file. See the Quickstart Guide and Configuration Guide for detailed setup instructions.</p>"},{"location":"#architecture","title":"Architecture","text":"<p>The MCP server is organized as a modular Python package for maintainability and extensibility:</p> <pre><code>TealFlowMCP/\n\u251c\u2500\u2500 tealflow_mcp.py            # Backward-compatibility wrapper\n\u251c\u2500\u2500 tealflow_mcp/              # Main package\n\u2502   \u251c\u2500\u2500 core/                  # Constants and enums\n\u2502   \u251c\u2500\u2500 data/                  # Data loaders\n\u2502   \u251c\u2500\u2500 knowledge_base/        # Metadata and templates\n\u2502   \u251c\u2500\u2500 models/                # Pydantic input models\n\u2502   \u251c\u2500\u2500 server.py              # MCP server implementation\n\u2502   \u251c\u2500\u2500 tools/                 # MCP tool implementations\n\u2502   \u2514\u2500\u2500 utils/                 # Utilities and formatters\n\u251c\u2500\u2500 docs/                      # Documentation\n\u251c\u2500\u2500 tests/                     # Automated tests\n\u251c\u2500\u2500 sample_data/               # Sample ADaM datasets\n\u251c\u2500\u2500 .github/                   # CI/CD workflows\n\u251c\u2500\u2500 pyproject.toml             # Project metadata &amp; dependencies\n\u251c\u2500\u2500 uv.lock                    # Lockfile for exact versions\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"#installation","title":"Installation","text":""},{"location":"#option-1-install-from-pypi-recommended","title":"Option 1: Install from PyPI (Recommended)","text":"<pre><code>pip install tealflow-mcp\n</code></pre>"},{"location":"#option-2-install-from-source-development","title":"Option 2: Install from Source (Development)","text":"<p>Clone the repository and install dependencies:</p> <pre><code>git clone https://github.com/Appsilon/TealFlowMCP.git\ncd TealFlowMCP\nuv sync\n</code></pre>"},{"location":"#verify-installation","title":"Verify Installation","text":"<p>For pip installation, verify the package is installed: <pre><code>python -c \"import tealflow_mcp; print(f'TealFlowMCP version {tealflow_mcp.__version__}')\"\n</code></pre></p> <p>For source installation, run the test suite: <pre><code>uv run python -m pytest tests/test_mcp_server.py -v\n</code></pre></p>"},{"location":"#testing","title":"Testing","text":""},{"location":"#run-all-tests","title":"Run All Tests","text":"<p>Run the complete test suite:</p> <pre><code>uv run python -m pytest tests/ -v\n</code></pre>"},{"location":"#run-specific-test-files","title":"Run Specific Test Files","text":"<pre><code># Test MCP server functionality\nuv run python -m pytest tests/test_mcp_server.py -v\n\n# Test dataset discovery\nuv run python -m pytest tests/test_discovery.py -v\n\n# Test ADaM name extraction\nuv run python -m pytest tests/test_extract_adam_name.py -v\n</code></pre>"},{"location":"#run-single-test","title":"Run Single Test","text":"<pre><code>uv run python -m pytest tests/test_discovery.py::TestDatasetDiscovery::test_discover_rds_files -v\n</code></pre>"},{"location":"#run-with-coverage","title":"Run with Coverage","text":"<pre><code>uv run python -m pytest tests/ --cov=tealflow_mcp --cov-report=term-missing -v\n</code></pre>"},{"location":"#code-quality","title":"Code Quality","text":""},{"location":"#check-linting","title":"Check Linting","text":"<p>Check for linting issues:</p> <pre><code>uv run ruff check tealflow_mcp/ tests/\n</code></pre>"},{"location":"#auto-fix-linting-issues","title":"Auto-fix Linting Issues","text":"<p>Automatically fix linting issues:</p> <pre><code>uv run ruff check tealflow_mcp/ tests/ --fix\n</code></pre>"},{"location":"#format-code","title":"Format Code","text":"<p>Format code consistently:</p> <pre><code>uv run ruff format tealflow_mcp/ tests/\n</code></pre>"},{"location":"#type-checking","title":"Type Checking","text":"<p>Run static type checking:</p> <pre><code>uv run mypy tealflow_mcp/\n</code></pre>"},{"location":"#run-all-checks","title":"Run All Checks","text":"<p>Run all code quality checks at once (same as CI):</p> <pre><code>uv run ruff check tealflow_mcp/ tests/ &amp;&amp; \\\nuv run ruff format tealflow_mcp/ tests/ --check &amp;&amp; \\\nuv run mypy tealflow_mcp/ &amp;&amp; \\\nuv run python -m pytest tests/ -v\n</code></pre>"},{"location":"#continuous-integration","title":"Continuous Integration","text":"<p>This project uses GitHub Actions for automated testing and code quality checks.</p> <p>The CI pipeline runs on every push and pull request: - \u2705 Linting and formatting checks - \u2705 Type checking with mypy - \u2705 Tests on Python 3.10, 3.11, and 3.12 - \u2705 Code coverage reporting</p>"},{"location":"#manual-testing","title":"Manual Testing","text":"<p>For quick manual verification:</p> <pre><code># Test MCP server manually\nuv run python tests/test_mcp_server.py\n\n# Test discovery tool with sample data\nuv run python -c \"\nfrom tealflow_mcp.tools.discovery import discover_datasets\nimport os\nresult = discover_datasets(os.path.abspath('sample_data'))\nprint(f'Found {result[\\\"count\\\"]} datasets')\n\"\n</code></pre>"},{"location":"#running-the-mcp","title":"Running the MCP","text":"<p>The MCP can be run with a command:</p> <pre><code>uv --directory /absolute/path/to/TealFlowMCP/ run tealflow_mcp.py\n</code></pre> <p>You can also test the MCP using the MCP inspector:</p> <pre><code>npx @modelcontextprotocol/inspector uv --directory /absolute/path/to/TealFlowMCP/ run tealflow_mcp.py\n</code></pre>"},{"location":"#available-tools","title":"Available Tools","text":"<p>TealFlowMCP provides 14 tools for building Teal applications:</p> <p>Agent Guidance: - <code>tealflow_agent_guidance</code> - START HERE - Get comprehensive development guidance and learn how to use all other tools</p> <p>Module Discovery &amp; Search: - <code>tealflow_list_modules</code> - List all available Teal modules - <code>tealflow_search_modules_by_analysis</code> - Find modules by analysis type - <code>tealflow_get_module_details</code> - Get detailed module information</p> <p>Code Generation: - <code>tealflow_generate_module_code</code> - Generate R code for modules - <code>tealflow_get_app_template</code> - Get base Teal app template - <code>tealflow_generate_data_loading</code> - Generate R script for loading datasets</p> <p>Dataset Management: - <code>tealflow_list_datasets</code> - List available clinical trial datasets - <code>tealflow_discover_datasets</code> - Scan directories for ADaM datasets - <code>tealflow_check_dataset_requirements</code> - Check dataset compatibility - <code>tealflow_get_dataset_info</code> - Get information about ADaM datasets</p> <p>Environment &amp; Validation: - <code>tealflow_setup_renv_environment</code> - Initialize R environment with renv - <code>tealflow_snapshot_renv_environment</code> - Snapshot current R environment state - <code>tealflow_check_shiny_startup</code> - Validate app startup</p> <p>View complete tool reference \u2192</p>"},{"location":"#configuration","title":"Configuration","text":"<p>TealFlowMCP works with any MCP-compatible client (Claude Desktop, Claude Code, GitHub Copilot, Cursor, etc.).</p> <p>Basic Configuration: <pre><code>{\n  \"servers\": {\n    \"tealflow-mcp\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\",\n        \"/absolute/path/to/TealFlowMCP\",\n        \"run\",\n        \"tealflow_mcp.py\"\n      ]\n    }\n  }\n}\n</code></pre></p> <p>View complete configuration guide \u2192</p>"},{"location":"#quick-start_1","title":"Quick Start","text":"<p>Once configured, you can use natural language to build Teal apps:</p> <p>Example:</p> <p>I have ADSL and ADTTE datasets. Build me a Teal app with Kaplan-Meier plots and Cox regression.</p> <p>The LLM will automatically: - Setup the R environment - Search for relevant modules - Validate dataset compatibility - Generate complete app code</p> <p>View usage examples and FAQs \u2192</p>"},{"location":"#about-appsilon","title":"About Appsilon","text":"<p>TealFlowMCP is developed by Appsilon, a trusted technology partner for pharmaceutical and life sciences companies specializing in accelerating drug development through open-source solutions. Appsilon helps organizations transition from legacy systems to modern, validated open-source analytics while maintaining strict regulatory compliance.</p> <p>Learn more at appsilon.com</p>"},{"location":"CONFIGURATION/","title":"Configuration Guide","text":"<p>This guide explains how to configure TealFlowMCP with various MCP-compatible clients.</p>"},{"location":"CONFIGURATION/#mcp-client-compatibility","title":"MCP Client Compatibility","text":"<p>TealFlowMCP works with any MCP-compatible client: - Claude Desktop - Claude Code - GitHub Copilot - Cursor - Other MCP-compatible tools that support the MCP stdio protocol</p>"},{"location":"CONFIGURATION/#installation","title":"Installation","text":"<p>Before configuration, install TealFlowMCP:</p> <p>PyPI Installation (Recommended): <pre><code>pip install tealflow-mcp\n# or\npipx install tealflow-mcp\n</code></pre></p> <p>Source Installation (Development): <pre><code>git clone https://github.com/Appsilon/TealFlowMCP.git\ncd TealFlowMCP\nuv sync\n</code></pre></p>"},{"location":"CONFIGURATION/#basic-configuration","title":"Basic Configuration","text":""},{"location":"CONFIGURATION/#pypi-installation","title":"PyPI Installation","text":"<p>If you installed from PyPI, use this simple configuration:</p> <pre><code>{\n  \"servers\": {\n    \"tealflow-mcp\": {\n      \"command\": \"tealflow-mcp\"\n    }\n  }\n}\n</code></pre>"},{"location":"CONFIGURATION/#source-installation","title":"Source Installation","text":"<p>If you're running from source, use this configuration:</p> <pre><code>{\n  \"servers\": {\n    \"tealflow-mcp\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\",\n        \"/absolute/path/to/TealFlowMCP\",\n        \"run\",\n        \"tealflow_mcp.py\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Important: Replace <code>/absolute/path/to/TealFlowMCP</code> with the actual absolute path to your cloned repository.</p>"},{"location":"CONFIGURATION/#finding-configuration-files","title":"Finding Configuration Files","text":"<p>Different MCP clients store configuration in different locations:</p> <ul> <li>Claude Desktop: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code> (macOS)</li> <li>GitHub Copilot: Configured through VS Code settings</li> <li>Cursor: Check Cursor's MCP settings documentation</li> </ul>"},{"location":"CONFIGURATION/#getting-started-workflow","title":"Getting Started Workflow","text":"<p>Once configured, simply start a conversation with your LLM and describe what you want to build:</p> <p>You just need to: - Describe the Teal app you want to create using natural language</p> <p>The MCP will automatically: - Setup the R environment (install required packages with renv) - Discover datasets in your project directory - Find compatible modules - Generate the complete app code</p> <p>Example:</p> <p>\"I have ADSL and ADTTE datasets in my data/ folder. Build me a Teal app with Kaplan-Meier plots and Cox regression.\"</p> <p>The LLM will handle everything - from environment setup to code generation!</p>"},{"location":"CONFIGURATION/#usage-patterns","title":"Usage Patterns","text":""},{"location":"CONFIGURATION/#build-a-complete-app","title":"Build a Complete App","text":"<p>User Request:</p> <p>I have ADSL and ADTTE datasets. Build me a Teal app with Kaplan-Meier plots and Cox regression.</p> <p>The LLM will automatically: - Setup the R environment and install required packages - Discover your ADSL and ADTTE datasets - Search for survival analysis modules (Kaplan-Meier, Cox regression) - Validate dataset compatibility - Generate complete app code with both modules - Provide the ready-to-run Teal application</p>"},{"location":"CONFIGURATION/#explore-available-modules","title":"Explore Available Modules","text":"<p>User Request:</p> <p>What modules can I use for adverse event analysis?</p> <p>The LLM will automatically: - Search for adverse event analysis modules - List compatible options with descriptions - Explain which datasets are needed (e.g., ADSL, ADAE) - Provide recommendations based on your analysis goals</p>"},{"location":"CONFIGURATION/#get-module-details","title":"Get Module Details","text":"<p>User Request:</p> <p>Show me the parameters for tm_g_km</p> <p>The LLM will automatically: - Fetch detailed parameter information for tm_g_km - Explain required vs optional parameters - Show parameter types and defaults - Help you understand how to customize the module</p>"},{"location":"CONFIGURATION/#tips-for-best-results","title":"Tips for Best Results","text":"<ul> <li>Be specific about datasets: Mention which ADaM datasets you have (ADSL, ADTTE, ADAE, etc.)</li> <li>Describe the analysis: Use terms like \"survival\", \"adverse events\", \"forest plot\" rather than module names</li> <li>Ask for explanations: Your LLM can explain generated code and suggest configurations</li> </ul>"},{"location":"CONFIGURATION/#technical-examples","title":"Technical Examples","text":""},{"location":"CONFIGURATION/#example-1-discover-kaplan-meier-modules","title":"Example 1: Discover Kaplan-Meier modules","text":"<pre><code>User: \"I need to create a Kaplan-Meier survival plot for my clinical trial data\"\n\nThe LLM uses these MCP tools:\n1. tealflow_search_modules_by_analysis with analysis_type=\"kaplan-meier\"\n2. tealflow_get_module_details with module_name=\"tm_g_km\"\n3. tealflow_check_dataset_requirements with module_name=\"tm_g_km\"\n4. tealflow_generate_module_code with module_name=\"tm_g_km\"\n</code></pre>"},{"location":"CONFIGURATION/#example-2-find-modules-for-specific-datasets","title":"Example 2: Find modules for specific datasets","text":"<pre><code>User: \"What analysis modules can I use with ADSL and ADTTE datasets?\"\n\nThe LLM uses these MCP tools:\n1. tealflow_list_datasets to understand available data\n2. tealflow_list_modules with package=\"clinical\"\n3. Filters results to show modules requiring ADSL and ADTTE\n</code></pre>"},{"location":"CONFIGURATION/#example-3-generate-code-for-cox-regression","title":"Example 3: Generate code for Cox regression","text":"<pre><code>User: \"Generate code for a Cox regression analysis module\"\n\nThe LLM uses these MCP tools:\n1. tealflow_search_modules_by_analysis with analysis_type=\"cox regression\"\n2. tealflow_get_module_details with module_name=\"tm_t_coxreg\"\n3. tealflow_generate_module_code with module_name=\"tm_t_coxreg\"\n</code></pre>"},{"location":"CONFIGURATION/#frequently-asked-questions","title":"Frequently Asked Questions","text":""},{"location":"CONFIGURATION/#does-tealflowmcp-need-an-api-key-or-internet-connection","title":"Does TealFlowMCP need an API key or internet connection?","text":"<p>No! TealFlowMCP is a local data provider that only reads JSON files. It provides tools to LLMs but doesn't make API calls itself.</p> <p>You still need an API key for your LLM client (e.g., Anthropic API for Claude, OpenAI API for GPT, etc.), but the MCP server itself doesn't use or need any API keys or internet connection.</p>"},{"location":"CONFIGURATION/#how-can-multiple-people-on-my-team-use-this-mcp","title":"How can multiple people on my team use this MCP?","text":"<p>Each team member needs to set up their own instance. The MCP runs locally on each person's machine - no shared server needed. Each person maintains their own copy of the MCP.</p>"},{"location":"CONFIGURATION/#how-do-i-verify-the-mcp-is-working","title":"How do I verify the MCP is working?","text":"<p>After configuring and restarting your MCP client:</p> <ol> <li>Open a new conversation in your MCP client</li> <li>Ask: \"List all clinical modules for survival analysis\"</li> <li>The LLM should use the <code>tealflow_search_modules_by_analysis</code> tool</li> <li>You should see results about tm_g_km, tm_t_coxreg, tm_t_tte, etc.</li> </ol> <p>If you don't see the MCP tools being used, check: - Configuration file syntax is valid JSON - File path is correct and absolute (not relative) - Python is in your PATH - Dependencies are installed (<code>uv sync</code>) - MCP client was fully restarted</p>"},{"location":"CONFIGURATION/#is-there-a-limit-to-how-many-times-i-can-use-the-mcp-tools","title":"Is there a limit to how many times I can use the MCP tools?","text":"<p>No! The MCP is a local service that reads static JSON files. There are no API rate limits, usage quotas, or costs associated with using the MCP tools themselves.</p> <p>However, using your LLM client (e.g., Claude Desktop, GPT-based tools, etc.) still consumes your API usage/subscription according to your provider's pricing.</p>"},{"location":"QUICKSTART/","title":"TealFlowMCP Quickstart Guide","text":"<p>Get started with TealFlowMCP in VSCode in just a few minutes! This guide walks you through everything you need to build Teal R Shiny applications using AI assistance.</p>"},{"location":"QUICKSTART/#what-youll-need","title":"What You'll Need","text":"<ul> <li>VSCode with GitHub Copilot extension installed</li> <li>Python 3.10 or higher</li> <li>R installed with required packages (see R Setup below)</li> </ul>"},{"location":"QUICKSTART/#installation-options","title":"Installation Options","text":"<p>Choose one of the following installation methods:</p>"},{"location":"QUICKSTART/#option-a-install-from-pypi-recommended","title":"Option A: Install from PyPI (Recommended)","text":"<p>This is the easiest way to get started.</p>"},{"location":"QUICKSTART/#step-1-install-the-package","title":"Step 1: Install the Package","text":"<pre><code>pip install tealflow-mcp\n</code></pre> <p>Or using pipx for isolated installation:</p> <pre><code>pipx install tealflow-mcp\n</code></pre>"},{"location":"QUICKSTART/#step-2-verify-installation","title":"Step 2: Verify Installation","text":"<pre><code>python -c \"import tealflow_mcp; print(f'TealFlowMCP version {tealflow_mcp.__version__}')\"\n</code></pre>"},{"location":"QUICKSTART/#step-3-configure-vscode","title":"Step 3: Configure VSCode","text":"<ol> <li>Open the Command Palette (<code>Ctrl+Shift+P</code> or <code>Cmd+Shift+P</code> on macOS)</li> <li>Type \"MCP: Add Server\" and select it</li> <li>Choose \"Command\" as the server type</li> <li>Enter the command: <code>tealflow-mcp</code></li> </ol> <p>Or manually add this configuration:</p> <pre><code>\"tealflow-mcp\": {\n  \"command\": \"tealflow-mcp\"\n}\n</code></pre>"},{"location":"QUICKSTART/#option-b-install-from-source-development","title":"Option B: Install from Source (Development)","text":"<p>Use this if you want to modify the code or contribute to development.</p>"},{"location":"QUICKSTART/#step-1-install-uv","title":"Step 1: Install uv","text":"<p><code>uv</code> is a fast Python package manager that TealFlowMCP uses to manage dependencies.</p> <p>Follow the official installation guide: https://docs.astral.sh/uv/getting-started/installation/</p> <p>After installation, verify it's working:</p> <pre><code>uv --version\n</code></pre>"},{"location":"QUICKSTART/#step-2-download-the-repository","title":"Step 2: Download the Repository","text":"<p>Clone the TealFlowMCP repository to your local machine:</p> <pre><code>git clone https://github.com/Appsilon/TealFlowMCP.git\ncd TealFlowMCP\n</code></pre> <p>Important: Note the absolute path to this directory. You'll need it for the VSCode configuration. You can get the absolute path with:</p> <pre><code>pwd\n</code></pre>"},{"location":"QUICKSTART/#step-3-install-dependencies","title":"Step 3: Install Dependencies","text":"<p>Install all Python dependencies using uv:</p> <pre><code>uv sync\n</code></pre> <p>This creates a virtual environment and installs all required packages based on the <code>pyproject.toml</code> file.</p>"},{"location":"QUICKSTART/#step-4-configure-vscode","title":"Step 4: Configure VSCode","text":"<p>Now configure VSCode to use the TealFlowMCP server with GitHub Copilot.</p> <ol> <li>Open the Command Palette (<code>Ctrl+Shift+P</code> or <code>Cmd+Shift+P</code> on macOS)</li> <li>Type \"MCP: Add Server\" and select it</li> <li>Choose \"Command\" as the server type</li> <li>Enter the command: <code>uv --directory /absolute/path/to/TealFlowMCP run tealflow_mcp.py</code></li> </ol> <p>Replace <code>/absolute/path/to/TealFlowMCP</code> with the actual path from Step 2</p> <p>Or manually add this configuration:</p> <pre><code>\"tealflow-mcp\": {\n  \"command\": \"uv\",\n  \"args\": [\n    \"--directory\",\n    \"/absolute/path/to/TealFlowMCP\",\n    \"run\",\n    \"tealflow_mcp.py\"\n  ]\n}\n</code></pre> <p>Replace <code>/absolute/path/to/TealFlowMCP</code> with the actual path from Step 2</p>"},{"location":"QUICKSTART/#step-5-restart-vscode","title":"Step 5: Restart VSCode","text":"<p>After saving the configuration, restart VSCode completely for the changes to take effect.</p>"},{"location":"QUICKSTART/#set-up-your-project","title":"Set Up Your Project","text":"<p>Create a new project directory where you'll build your Teal application:</p> <pre><code>mkdir my-teal-app\ncd my-teal-app\n</code></pre>"},{"location":"QUICKSTART/#copy-sample-data","title":"Copy Sample Data","text":"<p>Copy the sample clinical trial datasets from TealFlowMCP to your project:</p> <pre><code>cp -r /path/to/TealFlowMCP/sample_data ./\n</code></pre> <p>The sample data includes: - <code>ADSL.Rds</code> - Subject-level analysis dataset - <code>ADTTE.Rds</code> - Time-to-event analysis dataset - <code>ADAE.Rds</code> - Adverse events analysis dataset - <code>ADRS.Rds</code> - Response analysis dataset - <code>ADQS.Rds</code> - Questionnaire analysis dataset</p>"},{"location":"QUICKSTART/#r-setup","title":"R Setup","text":"<p>Ensure R is installed on your system. You don't need to manually install packages - TealFlowMCP includes a tool to set up the environment for you.</p>"},{"location":"QUICKSTART/#verify-everything-works","title":"Verify Everything Works","text":""},{"location":"QUICKSTART/#test-the-mcp-connection","title":"Test the MCP Connection","text":"<ol> <li>Open VSCode in your project directory</li> <li>Open GitHub Copilot Chat</li> <li>Ask: \"List all clinical modules for survival analysis\"</li> </ol> <p>If configured correctly, you should see Copilot use the <code>tealflow_search_modules_by_analysis</code> tool and return information about survival analysis modules like <code>tm_g_km</code>, <code>tm_t_coxreg</code>, and <code>tm_t_tte</code>.</p>"},{"location":"QUICKSTART/#generate-your-first-app","title":"Generate Your First App","text":"<p>Try asking Copilot:</p> <p>\"Build me a Teal app with a Kaplan-Meier plot for survival analysis.\"</p> <p>Copilot will: 1. Verify the environment setup 2. Get the app template 3. Search for relevant modules 4. Check dataset compatibility 5. Generate complete working code in <code>app.R</code></p> <p>Important! Take into account that this process can take up to several minutes the first time the tool is called, as it needs to download and install several packages. Once the environment is properly set up and packages are installed, things should go faster.</p>"},{"location":"QUICKSTART/#run-the-app","title":"Run the App","text":"<p>Once generated, run your app in R:</p> <pre><code>shiny::runApp()\n</code></pre> <p>Your Teal application should start in your default web browser!</p>"},{"location":"QUICKSTART/#troubleshooting","title":"Troubleshooting","text":""},{"location":"QUICKSTART/#mcp-tools-not-working","title":"MCP Tools Not Working","text":"<p>If Copilot isn't using the TealFlowMCP tools:</p> <ol> <li>Check the configuration file:</li> <li>Ensure the path is absolute, not relative</li> <li>Verify the JSON syntax is correct (no trailing commas)</li> <li> <p>Make sure you're using forward slashes or escaped backslashes on Windows</p> </li> <li> <p>Restart VSCode completely:</p> </li> <li>Close all VSCode windows</li> <li> <p>Reopen VSCode</p> </li> <li> <p>Verify uv is in PATH: <pre><code>which uv  # Linux/macOS\nwhere uv  # Windows\n</code></pre></p> </li> <li> <p>Test the MCP server manually: <pre><code>cd /path/to/TealFlowMCP\nuv run python tealflow_mcp.py\n</code></pre></p> </li> </ol>"},{"location":"TOOLS/","title":"TealFlowMCP Tools Reference","text":"<p>Complete reference for all available TealFlowMCP tools.</p>"},{"location":"TOOLS/#quick-reference","title":"Quick Reference","text":"<ul> <li>Agent Guidance - START HERE - Get comprehensive guidance for Teal development</li> <li>List Modules - List all available Teal modules</li> <li>Search Modules - Search modules by analysis type</li> <li>Get Module Details - Get detailed module information</li> <li>Generate Module Code - Generate R code for modules</li> <li>Get App Template - Get Teal application template</li> <li>Generate Data Loading - Generate R script for loading datasets</li> <li>List Datasets - List available clinical trial datasets</li> <li>Discover Datasets - Scan directories for ADaM datasets</li> <li>Check Dataset Requirements - Check dataset compatibility</li> <li>Get Dataset Info - Get information about ADaM datasets</li> <li>Setup R Environment - Initialize R project with renv</li> <li>Snapshot R Environment - Snapshot current R environment state</li> <li>Check Shiny Startup - Validate app startup</li> </ul>"},{"location":"TOOLS/#1-tealflow_agent_guidance","title":"1. <code>tealflow_agent_guidance</code>","text":"<p>START HERE - Get comprehensive guidance for assisting users with Teal application development.</p> <p>This is the primary tool that provides LLMs with essential context on how to use all other TealFlowMCP tools effectively. It returns the complete agent guidance document that explains workflows, best practices, and tool usage patterns.</p>"},{"location":"TOOLS/#2-tealflow_list_modules","title":"2. <code>tealflow_list_modules</code>","text":"<p>List all available Teal modules with descriptions and dataset requirements.</p> <p>Parameters: - <code>package</code> (optional): Filter by \"clinical\", \"general\", or \"all\" (default: \"all\") - <code>category</code> (optional): Filter by category (e.g., \"graphics\", \"tables\") - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"package\": \"clinical\",\n  \"response_format\": \"markdown\"\n}\n</code></pre></p>"},{"location":"TOOLS/#3-tealflow_search_modules_by_analysis","title":"3. <code>tealflow_search_modules_by_analysis</code>","text":"<p>Search for modules that perform a specific type of analysis.</p> <p>Parameters: - <code>analysis_type</code> (required): Type of analysis (e.g., \"survival\") - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"analysis_type\": \"survival analysis\",\n  \"response_format\": \"markdown\"\n}\n</code></pre></p>"},{"location":"TOOLS/#4-tealflow_get_module_details","title":"4. <code>tealflow_get_module_details</code>","text":"<p>Check if required datasets are available for a module.</p> <p>Parameters: - <code>module_name</code> (required): Module to check - <code>available_datasets</code> (required): List of available datasets - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"module_name\": \"tm_g_km\",\n  \"available_datasets\": [\"ADSL\", \"ADTTE\"]\n}\n</code></pre></p>"},{"location":"TOOLS/#5-tealflow_generate_module_code","title":"5. <code>tealflow_generate_module_code</code>","text":"<p>Generate R code for adding a module to a Teal app.</p> <p>Parameters: - <code>module_name</code> (required): Module to generate code for - <code>parameters</code> (optional): Parameter overrides (not yet fully implemented) - <code>include_comments</code> (optional): Include comments (default: true)</p> <p>Example: <pre><code>{\n  \"module_name\": \"tm_g_km\",\n  \"include_comments\": true\n}\n</code></pre></p>"},{"location":"TOOLS/#6-tealflow_get_app_template","title":"6. <code>tealflow_get_app_template</code>","text":"<p>Get the Teal application template as a starting point for building apps. The template includes data loading, and the basic structure for adding Teal modules.</p> <p>Parameters: - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"response_format\": \"markdown\"\n}\n</code></pre></p>"},{"location":"TOOLS/#7-tealflow_generate_data_loading","title":"7. <code>tealflow_generate_data_loading</code>","text":"<p>Generate R script for loading ADaM datasets into a Teal application.</p> <p>Parameters: - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"response_format\": \"markdown\"\n}\n</code></pre></p>"},{"location":"TOOLS/#8-tealflow_list_datasets","title":"8. <code>tealflow_list_datasets</code>","text":"<p>List available clinical trial datasets.</p> <p>Parameters: - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"response_format\": \"markdown\"\n}\n</code></pre></p>"},{"location":"TOOLS/#9-tealflow_discover_datasets","title":"9. <code>tealflow_discover_datasets</code>","text":"<p>Scan a directory for ADaM dataset files (.Rds, .csv) and extract dataset information.</p> <p>Parameters: - <code>directory_path</code> (required): Absolute path to directory containing datasets - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"directory_path\": \"/absolute/path/to/data\",\n  \"response_format\": \"markdown\"\n}\n</code></pre></p>"},{"location":"TOOLS/#10-tealflow_check_dataset_requirements","title":"10. <code>tealflow_check_dataset_requirements</code>","text":"<p>Validate that a Shiny app starts without errors. Runs the app file using <code>shiny::runApp()</code> with a timeout to detect startup issues without blocking indefinitely.</p> <p>Parameters: - <code>app_path</code> (optional): Path to the Shiny app directory (default: \".\") - <code>app_filename</code> (optional): Name of the app file to run, e.g., \"app.R\", \"server.R\" (default: \"app.R\") - <code>timeout_seconds</code> (optional): Maximum time in seconds to allow the app to start, range 1-120 (default: 15)</p> <p>Example: <pre><code>{\n  \"app_path\": \".\",\n  \"app_filename\": \"app.R\",\n  \"timeout_seconds\": 15\n}\n</code></pre></p> <p>Response Format: Returns a JSON object with: - <code>status</code>: \"ok\" or \"error\" - <code>error_type</code>: Classification of error (if any) - <code>message</code>: Human-readable description - <code>logs_excerpt</code>: Relevant output from the app startup</p> <p>Error Types: - <code>missing_package</code>: Required R package not installed - <code>syntax_error</code>: R syntax error in app file - <code>object_not_found</code>: Referenced object does not exist - <code>timeout</code>: App did not start within timeout period - <code>file_not_found</code>: App file not found at specified path - <code>rscript_not_found</code>: R not installed or not in PATH - <code>connection_error</code>: Network or file connection issue - <code>execution_error</code>: Other R execution error</p> <p>Example Success Response: <pre><code>{\n  \"status\": \"ok\",\n  \"error_type\": null,\n  \"message\": \"App started successfully\",\n  \"logs_excerpt\": \"=== STDOUT ===\\nListening on http://127.0.0.1:3838\"\n}\n</code></pre></p> <p>Example Error Response: <pre><code>{\n  \"status\": \"error\",\n  \"error_type\": \"missing_package\",\n  \"message\": \"Missing R package: teal.modules.clinical\",\n  \"logs_excerpt\": \"=== STDERR ===\\nError in library(teal.modules.clinical) : \\n  there is no package called 'teal.modules.clinical'\"\n}\n</code></pre></p> <p>Common Use Cases: - After adding modules: Validate the app starts correctly after code generation - Debugging startup issues: Get structured error information to diagnose problems - CI/CD validation: Automated testing of app startup in pipelines - Pre-deployment checks: Ensure app is ready before sharing with users - Multiple app files: Validate different Shiny app structures (app.R, server.R, ui.R)</p> <p>Best Practices: - Use appropriate timeouts (simple apps: 5-10s, complex apps: 20-30s) - Check status after each module addition during development - Focus on fixing startup errors only (missing packages, syntax issues) - Don't retry indefinitely - report persistent errors after 2-3 attempts - Specify <code>app_filename</code> when working with non-standard app structures</p>"},{"location":"TOOLS/#11-tealflow_get_dataset_info","title":"11. <code>tealflow_get_dataset_info</code>","text":"<p>Get detailed information about ADaM datasets, including their structure, required variables, and relationships.</p> <p>Parameters: - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"markdown\")</p> <p>Example: <pre><code>{\n  \"response_format\": \"markdown\"\n}\n</code></pre></p>"},{"location":"TOOLS/#12-tealflow_setup_renv_environment","title":"12. <code>tealflow_setup_renv_environment</code>","text":"<p>Initialize an R project environment with renv and install required packages for Teal apps.</p> <p>Parameters: - <code>project_path</code> (optional): Path to the project directory (default: \".\") - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"json\")</p> <p>Example: <pre><code>{\n  \"project_path\": \".\",\n  \"response_format\": \"json\"\n}\n</code></pre></p>"},{"location":"TOOLS/#13-tealflow_snapshot_renv_environment","title":"13. <code>tealflow_snapshot_renv_environment</code>","text":"<p>Snapshot the current R environment state using renv, creating or updating the renv.lock file.</p> <p>Parameters: - <code>project_path</code> (optional): Path to the project directory (default: \".\") - <code>response_format</code> (optional): \"markdown\" or \"json\" (default: \"json\")</p> <p>Example: <pre><code>{\n  \"project_path\": \".\",\n  \"response_format\": \"json\"\n}\n</code></pre></p>"},{"location":"TOOLS/#14-tealflow_check_shiny_startup","title":"14. <code>tealflow_check_shiny_startup</code>","text":""},{"location":"license/","title":"License","text":"<p>TealFlowMCP is licensed under the GNU Lesser General Public License v3.0 (LGPL-3.0).</p>"},{"location":"license/#lgpl-30-license","title":"LGPL-3.0 License","text":"<pre><code>GNU LESSER GENERAL PUBLIC LICENSE\nVersion 3, 29 June 2007\n\nCopyright (c) 2026 Appsilon\n</code></pre>"},{"location":"license/#what-this-means","title":"What This Means","text":"<p>The LGPL-3.0 license allows you to:</p> <ul> <li>\u2705 Use the software commercially</li> <li>\u2705 Modify the software</li> <li>\u2705 Distribute the software</li> <li>\u2705 Use the software in proprietary applications (as a library)</li> <li>\u2705 Patent use - includes an express grant of patent rights from contributors</li> </ul>"},{"location":"license/#requirements","title":"Requirements","text":"<p>When using TealFlowMCP, you must:</p> <ul> <li>\ud83d\udccb Disclose source - Source code must be made available when distributing</li> <li>\ud83d\udccb License and copyright notice - Include a copy of the license and copyright notice</li> <li>\ud83d\udccb State changes - Document any changes made to the code</li> <li>\ud83d\udccb Same license (library) - Modifications to the library itself must be released under LGPL-3.0</li> </ul>"},{"location":"license/#key-difference-from-gpl","title":"Key Difference from GPL","text":"<p>Unlike the full GPL, LGPL allows you to:</p> <ul> <li>Link to TealFlowMCP from proprietary software without making your software LGPL</li> <li>Use TealFlowMCP as a library/dependency in closed-source applications</li> <li>Distribute applications that use TealFlowMCP without requiring them to be LGPL</li> </ul>"},{"location":"license/#full-license-text","title":"Full License Text","text":"<p>For the complete license text, see:</p> <ul> <li>LICENSE file in repository</li> <li>Official LGPL-3.0 text</li> </ul>"},{"location":"license/#authors","title":"Authors","text":"<p>TealFlowMCP is developed by:</p> <ul> <li>Jakub Nowicki (kuba@appsilon.com)</li> <li>Julian Guillo (julian.guillo@appsilon.com)</li> <li>Richard Foga\u00e7a (richard.fogaca@appsilon.com)</li> <li>Marcin Dubel (marcin@appsilon.com)</li> <li>Appsilon (opensource@appsilon.com)</li> </ul>"},{"location":"license/#questions","title":"Questions","text":"<p>For licensing questions, please contact: opensource@appsilon.com</p>"}]}